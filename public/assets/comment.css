/* Giscus 自定义主题 - 支持明暗主题切换 */

/* 默认（浅色）主题变量 */
:root {
  --color-prettylights-syntax-comment: #6e7781;
  --color-prettylights-syntax-constant: #0550ae;
  --color-prettylights-syntax-string: #0a3069;
  --color-prettylights-syntax-variable: #953800;
  --color-prettylights-syntax-brackethighlighter-unmatched: #82071e;
  --color-prettylights-syntax-invalid-illegal-text: #f6f8fa;
  --color-prettylights-syntax-invalid-illegal-bg: #82071e;
  --color-prettylights-syntax-carriage-return-text: #f6f8fa;
  --color-prettylights-syntax-carriage-return-bg: #cf222e;
  --color-prettylights-syntax-string-regexp: #116329;
  --color-prettylights-syntax-markup-list: #3b2300;
  --color-prettylights-syntax-markup-heading: #0550ae;
  --color-prettylights-syntax-markup-italic: #24292f;
  --color-prettylights-syntax-markup-bold: #24292f;
  --color-prettylights-syntax-markup-deleted-text: #82071e;
  --color-prettylights-syntax-markup-deleted-bg: #ffebe9;
  --color-prettylights-syntax-markup-inserted-text: #116329;
  --color-prettylights-syntax-markup-inserted-bg: #dafbe1;
  --color-prettylights-syntax-markup-changed-text: #953800;
  --color-prettylights-syntax-markup-changed-bg: #ffd8b5;
  --color-prettylights-syntax-markup-ignored-text: #eaeef2;
  --color-prettylights-syntax-markup-ignored-bg: #0550ae;
  --color-prettylights-syntax-meta-diff-range: #8250df;
  --color-prettylights-syntax-brackethighlighter-angle: #57606a;
  --color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;
  --color-prettylights-syntax-constant-other-reference-link: #0a3069;
  --color-fg-default: #24292f;
  --color-fg-muted: #656d76;
  --color-fg-subtle: #6e7781;
  --color-canvas-default: #ffffff;
  --color-canvas-subtle: #f6f8fa;
  --color-border-default: #d0d7de;
  --color-border-muted: #d8dee4;
  --color-neutral-muted: rgba(175,184,193,0.2);
  --color-accent-fg: #0969da;
  --color-accent-emphasis: #0969da;
  --color-attention-subtle: #fff8c5;
  --color-danger-fg: #cf222e;
}

/* 暗色主题变量 - 使用 prefers-color-scheme 媒体查询 */
@media (prefers-color-scheme: dark) {
  :root {
    --color-prettylights-syntax-comment: #8b949e;
    --color-prettylights-syntax-constant: #79c0ff;
    --color-prettylights-syntax-string: #a5d6ff;
    --color-prettylights-syntax-variable: #ffa657;
    --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
    --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
    --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
    --color-prettylights-syntax-carriage-return-text: #f0f6fc;
    --color-prettylights-syntax-carriage-return-bg: #b62324;
    --color-prettylights-syntax-string-regexp: #7ee787;
    --color-prettylights-syntax-markup-list: #f2cc60;
    --color-prettylights-syntax-markup-heading: #1f6feb;
    --color-prettylights-syntax-markup-italic: #c9d1d9;
    --color-prettylights-syntax-markup-bold: #c9d1d9;
    --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
    --color-prettylights-syntax-markup-deleted-bg: #67060c;
    --color-prettylights-syntax-markup-inserted-text: #aff5b4;
    --color-prettylights-syntax-markup-inserted-bg: #033a16;
    --color-prettylights-syntax-markup-changed-text: #ffdfb6;
    --color-prettylights-syntax-markup-changed-bg: #5a1e02;
    --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
    --color-prettylights-syntax-markup-ignored-bg: #1158c7;
    --color-prettylights-syntax-meta-diff-range: #d2a8ff;
    --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
    --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
    --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
    --color-fg-default: #c9d1d9;
    --color-fg-muted: #8b949e;
    --color-fg-subtle: #6e7681;
    --color-canvas-default: #0d1117;
    --color-canvas-subtle: #161b22;
    --color-border-default: #30363d;
    --color-border-muted: #21262d;
    --color-neutral-muted: rgba(110,118,129,0.4);
    --color-accent-fg: #58a6ff;
    --color-accent-emphasis: #1f6feb;
    --color-attention-subtle: #b58900;
    --color-danger-fg: #f85149;
  }
}

/* 当页面设置了 color-scheme: dark 时也应用暗色主题 */
:root[style*="color-scheme: dark"] {
  --color-prettylights-syntax-comment: #8b949e;
  --color-prettylights-syntax-constant: #79c0ff;
  --color-prettylights-syntax-string: #a5d6ff;
  --color-prettylights-syntax-variable: #ffa657;
  --color-prettylights-syntax-brackethighlighter-unmatched: #f85149;
  --color-prettylights-syntax-invalid-illegal-text: #f0f6fc;
  --color-prettylights-syntax-invalid-illegal-bg: #8e1519;
  --color-prettylights-syntax-carriage-return-text: #f0f6fc;
  --color-prettylights-syntax-carriage-return-bg: #b62324;
  --color-prettylights-syntax-string-regexp: #7ee787;
  --color-prettylights-syntax-markup-list: #f2cc60;
  --color-prettylights-syntax-markup-heading: #1f6feb;
  --color-prettylights-syntax-markup-italic: #c9d1d9;
  --color-prettylights-syntax-markup-bold: #c9d1d9;
  --color-prettylights-syntax-markup-deleted-text: #ffdcd7;
  --color-prettylights-syntax-markup-deleted-bg: #67060c;
  --color-prettylights-syntax-markup-inserted-text: #aff5b4;
  --color-prettylights-syntax-markup-inserted-bg: #033a16;
  --color-prettylights-syntax-markup-changed-text: #ffdfb6;
  --color-prettylights-syntax-markup-changed-bg: #5a1e02;
  --color-prettylights-syntax-markup-ignored-text: #c9d1d9;
  --color-prettylights-syntax-markup-ignored-bg: #1158c7;
  --color-prettylights-syntax-meta-diff-range: #d2a8ff;
  --color-prettylights-syntax-brackethighlighter-angle: #8b949e;
  --color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;
  --color-prettylights-syntax-constant-other-reference-link: #a5d6ff;
  --color-fg-default: #c9d1d9;
  --color-fg-muted: #8b949e;
  --color-fg-subtle: #6e7681;
  --color-canvas-default: #0d1117;
  --color-canvas-subtle: #161b22;
  --color-border-default: #30363d;
  --color-border-muted: #21262d;
  --color-neutral-muted: rgba(110,118,129,0.4);
  --color-accent-fg: #58a6ff;
  --color-accent-emphasis: #1f6feb;
  --color-attention-subtle: #b58900;
  --color-danger-fg: #f85149;
}

/* 基础样式 */
main {
  --color-prettylights-syntax-comment: var(--color-prettylights-syntax-comment);
  --color-prettylights-syntax-constant: var(--color-prettylights-syntax-constant);
  --color-prettylights-syntax-string: var(--color-prettylights-syntax-string);
  --color-prettylights-syntax-variable: var(--color-prettylights-syntax-variable);
  --color-prettylights-syntax-brackethighlighter-unmatched: var(--color-prettylights-syntax-brackethighlighter-unmatched);
  --color-prettylights-syntax-invalid-illegal-text: var(--color-prettylights-syntax-invalid-illegal-text);
  --color-prettylights-syntax-invalid-illegal-bg: var(--color-prettylights-syntax-invalid-illegal-bg);
  --color-prettylights-syntax-carriage-return-text: var(--color-prettylights-syntax-carriage-return-text);
  --color-prettylights-syntax-carriage-return-bg: var(--color-prettylights-syntax-carriage-return-bg);
  --color-prettylights-syntax-string-regexp: var(--color-prettylights-syntax-string-regexp);
  --color-prettylights-syntax-markup-list: var(--color-prettylights-syntax-markup-list);
  --color-prettylights-syntax-markup-heading: var(--color-prettylights-syntax-markup-heading);
  --color-prettylights-syntax-markup-italic: var(--color-prettylights-syntax-markup-italic);
  --color-prettylights-syntax-markup-bold: var(--color-prettylights-syntax-markup-bold);
  --color-prettylights-syntax-markup-deleted-text: var(--color-prettylights-syntax-markup-deleted-text);
  --color-prettylights-syntax-markup-deleted-bg: var(--color-prettylights-syntax-markup-deleted-bg);
  --color-prettylights-syntax-markup-inserted-text: var(--color-prettylights-syntax-markup-inserted-text);
  --color-prettylights-syntax-markup-inserted-bg: var(--color-prettylights-syntax-markup-inserted-bg);
  --color-prettylights-syntax-markup-changed-text: var(--color-prettylights-syntax-markup-changed-text);
  --color-prettylights-syntax-markup-changed-bg: var(--color-prettylights-syntax-markup-changed-bg);
  --color-prettylights-syntax-markup-ignored-text: var(--color-prettylights-syntax-markup-ignored-text);
  --color-prettylights-syntax-markup-ignored-bg: var(--color-prettylights-syntax-markup-ignored-bg);
  --color-prettylights-syntax-meta-diff-range: var(--color-prettylights-syntax-meta-diff-range);
  --color-prettylights-syntax-brackethighlighter-angle: var(--color-prettylights-syntax-brackethighlighter-angle);
  --color-prettylights-syntax-sublimelinter-gutter-mark: var(--color-prettylights-syntax-sublimelinter-gutter-mark);
  --color-prettylights-syntax-constant-other-reference-link: var(--color-prettylights-syntax-constant-other-reference-link);
  --color-fg-default: var(--color-fg-default);
  --color-fg-muted: var(--color-fg-muted);
  --color-fg-subtle: var(--color-fg-subtle);
  --color-canvas-default: var(--color-canvas-default);
  --color-canvas-subtle: var(--color-canvas-subtle);
  --color-border-default: var(--color-border-default);
  --color-border-muted: var(--color-border-muted);
  --color-neutral-muted: var(--color-neutral-muted);
  --color-accent-fg: var(--color-accent-fg);
  --color-accent-emphasis: var(--color-accent-emphasis);
  --color-attention-subtle: var(--color-attention-subtle);
  --color-danger-fg: var(--color-danger-fg);
}